= Redmine TX Base

Redmine TX í”ŒëŸ¬ê·¸ì¸ë“¤ì˜ ê³µí†µ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ê¸°ë°˜ í”ŒëŸ¬ê·¸ì¸ì…ë‹ˆë‹¤.

== ğŸ“‹ ì œê³µ ê¸°ëŠ¥ (ë¹ ë¥¸ ì°¸ì¡°)

=== JavaScript ë¼ì´ë¸ŒëŸ¬ë¦¬
* *TX Issue Autocomplete* - ì¼ê° ID/ì œëª© ë‹¤ì¤‘ ìë™ì™„ì„± (ì‰¼í‘œ/ì„¸ë¯¸ì½œë¡ /ê³µë°± êµ¬ë¶„) â†’ {ìƒì„¸ ê°€ì´ë“œ}[#label-1.+JavaScript+%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC]
* *TX Timeline Grid* - ì›¹ íƒ€ì„ë¼ì¸ ë Œë”ëŸ¬ (ìˆœìˆ˜ JS, ì„¸ë¡œì„  ë§ˆì»¤, í´ë¦­ ì´ë²¤íŠ¸) â†’ {ìƒì„¸ ê°€ì´ë“œ}[#label-1.+JavaScript+%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC]
* *TX XLSX Exporter* - ì—‘ì…€ ë¡œë“œë§µ ìµìŠ¤í¬í„° (íƒ€ì„ë¼ì¸+ë¦¬ìŠ¤íŠ¸ ì‹œíŠ¸, ExcelJS ê¸°ë°˜) â†’ {ìƒì„¸ ê°€ì´ë“œ}[#label-1.+JavaScript+%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC]

=== í—¬í¼ & ìœ í‹¸ë¦¬í‹°
* *TxBaseHelper* - ê³µí†µ í—¬í¼ í•¨ìˆ˜ ëª¨ìŒ
* *TxBaseAutocompletesController* - ìë™ì™„ì„± ë°ì´í„° API (+/tx_base/autocompletes/*+)

=== ë·° ì»´í¬ë„ŒíŠ¸
* *ì¼ê° ëª©ë¡* (+shared/_issue_list.html.erb+) - ê³µí†µ ì¼ê° ëª©ë¡ partial

=== ğŸ“š ë¬¸ì„œ
* {docs/INDEX.md}[docs/INDEX.md] - ì „ì²´ ë¬¸ì„œ ì¸ë±ìŠ¤
* {docs/issue_autocomplete_examples.md}[docs/issue_autocomplete_examples.md] - ìë™ì™„ì„± ì‹¤ì „ ì˜ˆì œ
* {docs/tx_timeline_grid_guide.md}[docs/tx_timeline_grid_guide.md] - íƒ€ì„ë¼ì¸ ê·¸ë¦¬ë“œ ê°€ì´ë“œ
* {docs/tx_xlsx_exporter_guide.md}[docs/tx_xlsx_exporter_guide.md] - ì—‘ì…€ ìµìŠ¤í¬í„° ê°€ì´ë“œ

---

== ìƒì„¸ ê°€ì´ë“œ

=== 1. JavaScript ë¼ì´ë¸ŒëŸ¬ë¦¬

==== TX Issue Autocomplete (ì¼ê° ìë™ì™„ì„±)

ì¼ê° IDë‚˜ ì œëª©ì„ ì…ë ¥ë°›ì•„ ìë™ì™„ì„± ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ê³µí†µ ìœ í‹¸ë¦¬í‹°ì…ë‹ˆë‹¤.
ì—¬ëŸ¬ ê°œì˜ ì¼ê° IDë¥¼ ì‰¼í‘œ(,), ì„¸ë¯¸ì½œë¡ (;), ê³µë°±ìœ¼ë¡œ êµ¬ë¶„í•˜ì—¬ ì…ë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

===== ì‚¬ìš© ë°©ë²•

====== 1. JavaScript íŒŒì¼ í¬í•¨

ë·° íŒŒì¼ì˜ header_tagsì— ë‹¤ìŒê³¼ ê°™ì´ ì¶”ê°€:

  <% content_for :header_tags do %>
    <%= javascript_include_tag 'tx_issue_autocomplete', plugin: 'redmine_tx_0_base' %>
  <% end %>

ë˜ëŠ” partial íŒŒì¼ì—ì„œ ì§ì ‘ í¬í•¨:

  <%= javascript_include_tag 'tx_issue_autocomplete', plugin: 'redmine_tx_0_base' %>

====== 2. HTML ì…ë ¥ í•„ë“œ ì¤€ë¹„

  <textarea id="issue-ids" placeholder="ì¼ê° IDë‚˜ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>

====== 3. ìë™ì™„ì„± ì´ˆê¸°í™”

  <script>
  $(document).ready(function() {
    setupIssueAutocomplete(
      'issue-ids',                           // ì…ë ¥ í•„ë“œ ID
      '<%= tx_base_top_parent_issues_path %>', // ìë™ì™„ì„± ë°ì´í„° URL
      {
        projectId: '<%= @project.id %>',     // ì„ íƒì‚¬í•­: íŠ¹ì • í”„ë¡œì íŠ¸ë¡œ ì œí•œ
        scope: 'all',                        // ì„ íƒì‚¬í•­: ê²€ìƒ‰ ë²”ìœ„ (projectIdê°€ ì—†ì„ ë•Œ)
        onSelect: function() {               // ì„ íƒì‚¬í•­: ì„ íƒ í›„ ì½œë°±
          console.log('ì¼ê° ì„ íƒë¨:', this.value);
        }
      }
    );
  });
  </script>

===== í•¨ìˆ˜ ë ˆí¼ëŸ°ìŠ¤

====== setupIssueAutocomplete(fieldId, url, options)

ì¼ê° ID ë‹¤ì¤‘ ìë™ì™„ì„±ì„ ì„¤ì •í•©ë‹ˆë‹¤.

*íŒŒë¼ë¯¸í„°:*
* +fieldId+ (string, í•„ìˆ˜) - ì…ë ¥ í•„ë“œì˜ DOM ID
* +url+ (string, í•„ìˆ˜) - ìë™ì™„ì„± ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ URL (ì¼ë°˜ì ìœ¼ë¡œ tx_base_top_parent_issues_path)
* +options+ (object, ì„ íƒ) - ì¶”ê°€ ì˜µì…˜
  * +projectId+ (string, ì„ íƒ) - íŠ¹ì • í”„ë¡œì íŠ¸ë¡œ ê²€ìƒ‰ ì œí•œ
  * +scope+ (string, ì„ íƒ) - ê²€ìƒ‰ ë²”ìœ„ ('all' ë“±), projectIdê°€ ì—†ì„ ë•Œ ì‚¬ìš©
  * +onSelect+ (function, ì„ íƒ) - ì¼ê° ì„ íƒ í›„ ì‹¤í–‰ë  ì½œë°± í•¨ìˆ˜

*ë°˜í™˜ê°’:* ì—†ìŒ

*ì˜ˆì œ:*

  // í”„ë¡œì íŠ¸ ë²”ìœ„ë¡œ ì œí•œ
  setupIssueAutocomplete('issue-ids', '/tx_base/autocompletes/top_parent_issues', {
    projectId: '123'
  });

  // ì „ì²´ í”„ë¡œì íŠ¸ ê²€ìƒ‰
  setupIssueAutocomplete('issue-ids', '/tx_base/autocompletes/top_parent_issues', {
    scope: 'all'
  });

  // ì„ íƒ í›„ ì½œë°± ì‚¬ìš©
  setupIssueAutocomplete('issue-ids', '/tx_base/autocompletes/top_parent_issues', {
    projectId: '123',
    onSelect: function() {
      $('#submit-button').prop('disabled', false);
    }
  });

====== parseIssueIds(input)

ì…ë ¥ ë¬¸ìì—´ì—ì„œ ì¼ê° IDë“¤ì„ íŒŒì‹±í•˜ì—¬ ë°°ì—´ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

*íŒŒë¼ë¯¸í„°:*
* +input+ (string, í•„ìˆ˜) - íŒŒì‹±í•  ì…ë ¥ ë¬¸ìì—´ (ì˜ˆ: "1234, 5678; 9012")

*ë°˜í™˜ê°’:* Array<number> - íŒŒì‹±ëœ ì¼ê° ID ë°°ì—´

*ì˜ˆì œ:*

  var input = "1234, 5678; 9012 3456";
  var issueIds = parseIssueIds(input);
  console.log(issueIds); // [1234, 5678, 9012, 3456]

  var emptyInput = "";
  var noIds = parseIssueIds(emptyInput);
  console.log(noIds); // []

  var mixedInput = "1234, abc, 5678";
  var validIds = parseIssueIds(mixedInput);
  console.log(validIds); // [1234, 5678] (ìˆ«ìë§Œ ì¶”ì¶œ)

===== ì‹¤ì œ ì‚¬ìš© ì˜ˆì œ

====== ì˜ˆì œ 1: ê¸°ë³¸ ì‚¬ìš©

  <!-- HTML -->
  <textarea id="issue-ids" placeholder="ì¼ê° IDë¥¼ ì…ë ¥í•˜ì„¸ìš”"></textarea>
  <button id="submit-btn" disabled>ì œì¶œ</button>

  <!-- JavaScript -->
  <script>
  $(document).ready(function() {
    setupIssueAutocomplete('issue-ids', '/tx_base/autocompletes/top_parent_issues', {
      projectId: '123',
      onSelect: function() {
        var ids = parseIssueIds(this.value);
        $('#submit-btn').prop('disabled', ids.length === 0);
      }
    });

    // ìˆ˜ë™ ì…ë ¥ ì‹œì—ë„ ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
    $('#issue-ids').on('input', function() {
      var ids = parseIssueIds($(this).val());
      $('#submit-btn').prop('disabled', ids.length === 0);
    });
  });
  </script>

====== ì˜ˆì œ 2: ì—¬ëŸ¬ ì¼ê° ì²˜ë¦¬

  <script>
  $('#submit-btn').click(function() {
    var input = $('#issue-ids').val();
    var issueIds = parseIssueIds(input);
    
    if (issueIds.length === 0) {
      alert('ì¼ê° IDë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
      return;
    }
    
    // ê° ì¼ê° ID ì²˜ë¦¬
    issueIds.forEach(function(issueId) {
      console.log('ì²˜ë¦¬ ì¤‘:', issueId);
    });
  });
  </script>

===== ì…ë ¥ í˜•ì‹

ì‚¬ìš©ìëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë‹¤ì–‘í•œ í˜•ì‹ìœ¼ë¡œ ì…ë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

* ì‰¼í‘œ êµ¬ë¶„: +1234, 5678, 9012+
* ì„¸ë¯¸ì½œë¡  êµ¬ë¶„: +1234; 5678; 9012+
* ê³µë°± êµ¬ë¶„: +1234 5678 9012+
* í˜¼í•© êµ¬ë¶„: +1234, 5678; 9012 3456+
* ìë™ì™„ì„± ì„ íƒ: ì¼ê° ë²ˆí˜¸ë‚˜ ì œëª©ì„ ì…ë ¥í•˜ë©´ ìë™ì™„ì„± ëª©ë¡ì´ í‘œì‹œë¨

===== ì£¼ì˜ì‚¬í•­

* ì…ë ¥ í•„ë“œëŠ” +<textarea>+ ë˜ëŠ” +<input type="text">+ ëª¨ë‘ ì‚¬ìš© ê°€ëŠ¥
* ìë™ì™„ì„±ì€ ìµœì†Œ 2ì ì´ìƒ ì…ë ¥ ì‹œ í™œì„±í™”ë¨
* +parseIssueIds+ í•¨ìˆ˜ëŠ” ìˆ«ìê°€ ì•„ë‹Œ ê°’ê³¼ 0 ì´í•˜ì˜ ê°’ì„ ìë™ìœ¼ë¡œ í•„í„°ë§í•¨
* í”„ë¡œì íŠ¸ ë²”ìœ„ë¥¼ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ì‚¬ìš©ìê°€ ì ‘ê·¼ ê°€ëŠ¥í•œ ëª¨ë“  í”„ë¡œì íŠ¸ì˜ ì¼ê°ì„ ê²€ìƒ‰


==== TX Timeline Grid (íƒ€ì„ë¼ì¸ ê·¸ë¦¬ë“œ)

ìˆœìˆ˜ JavaScriptë¡œ ì‘ì„±ëœ ì›¹ ê¸°ë°˜ íƒ€ì„ë¼ì¸ ë Œë”ëŸ¬ì…ë‹ˆë‹¤. ë¡œë“œë§µê³¼ ìŠ¤ì¼€ì¤„ì„ ì‹œê°ì ìœ¼ë¡œ í‘œí˜„í•©ë‹ˆë‹¤.

*ì£¼ìš” ê¸°ëŠ¥:*
* ğŸ“Š ì›¹ íƒ€ì„ë¼ì¸ ê·¸ë¦¬ë“œ ë Œë”ë§
* ğŸ¨ ì¹´í…Œê³ ë¦¬ë³„ ìƒ‰ìƒ êµ¬ë¶„
* ğŸ“ ì„¸ë¡œì„  ë§ˆì»¤ (Today, ë§ˆì¼ìŠ¤í†¤ ë“±)
* ğŸ“Œ ë²”ë¡€(Legend) í‘œì‹œ
* ğŸ–±ï¸ ìŠ¤ì¼€ì¤„ í´ë¦­ ì´ë²¤íŠ¸
* ğŸ“± ë°˜ì‘í˜• ìŠ¤í¬ë¡¤
* âš¡ ì™¸ë¶€ ì˜ì¡´ì„± ì—†ìŒ (ìˆœìˆ˜ JavaScript)

*ì‚¬ìš© ë°©ë²•:*

  <%= javascript_include_tag 'tx_timeline_grid', plugin: 'redmine_tx_0_base' %>
  <%= stylesheet_link_tag 'tx_timeline_grid', plugin: 'redmine_tx_0_base' %>

*ê¸°ë³¸ ì˜ˆì œ:*

  <div id="timeline-container"></div>
  
  <script>
  var jsonData = {
    options: {
      categoryLabel: "íŒ€",
      eventLabel: "ë‹´ë‹¹ì"
    },
    categories: [
      {
        name: "ë°±ì—”ë“œ ê°œë°œ",
        customColor: "#4A90E2",
        events: [
          {
            name: "API ê°œë°œ",
            schedules: [
              {
                name: "ì‚¬ìš©ì API",
                startDate: "2024-01-15",
                endDate: "2024-01-30",
                issue: "#101",
                doneRatio: "80"
              }
            ]
          }
        ]
      }
    ]
  };
  
  TxTimelineGrid.render('#timeline-container', jsonData);
  </script>

*ìƒì„¸ ë¬¸ì„œ:* docs/tx_timeline_grid_guide.md


==== TX XLSX Exporter (ì—‘ì…€ ìµìŠ¤í¬í„°)

ExcelJS ê¸°ë°˜ì˜ ë¡œë“œë§µ íƒ€ì„ë¼ì¸ ì—‘ì…€ ìµìŠ¤í¬í„°ì…ë‹ˆë‹¤.

*ì£¼ìš” ê¸°ëŠ¥:*
* ğŸ“Š ë¡œë“œë§µ íƒ€ì„ë¼ì¸ ì‹œíŠ¸ ìƒì„±
* ğŸ“‹ ìŠ¤ì¼€ì¤„ ë¦¬ìŠ¤íŠ¸ ì‹œíŠ¸ ìƒì„±
* ğŸ¨ ì¹´í…Œê³ ë¦¬ë³„ ìƒ‰ìƒ êµ¬ë¶„
* ğŸ”— ì¼ê° í•˜ì´í¼ë§í¬ ì—°ê²°
* ğŸ“ ì…€ ë©”ëª¨(ì½”ë©˜íŠ¸) ì§€ì›
* ğŸ“Œ ë²”ë¡€(Legend) í‘œì‹œ
* ğŸ—“ï¸ ìë™ ë‚ ì§œ ë²”ìœ„ ê³„ì‚°

*ì˜ì¡´ì„±:*
* ExcelJS ë¼ì´ë¸ŒëŸ¬ë¦¬ (https://cdnjs.cloudflare.com/ajax/libs/exceljs/4.3.0/exceljs.min.js)

*ì‚¬ìš© ë°©ë²•:*

  <!-- ExcelJS ë¼ì´ë¸ŒëŸ¬ë¦¬ (í•„ìˆ˜) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/exceljs/4.3.0/exceljs.min.js"></script>
  
  <!-- TX XLSX Exporter -->
  <%= javascript_include_tag 'tx_xlsx_exporter', plugin: 'redmine_tx_0_base' %>

*ê¸°ë³¸ ì˜ˆì œ:*

  var jsonData = {
    categories: [
      {
        name: "ë°±ì—”ë“œ ê°œë°œ",
        customColor: "#4A90E2",
        events: [
          {
            name: "API ê°œë°œ",
            schedules: [
              {
                name: "ì‚¬ìš©ì API",
                startDate: "2024-01-15",
                endDate: "2024-01-30",
                issue: "#101",
                doneRatio: "80"
              }
            ]
          }
        ]
      }
    ]
  };
  
  // ì—‘ì…€ ë‹¤ìš´ë¡œë“œ
  TxXlsxExporter.exportToXlsx(jsonData, 'ë¡œë“œë§µ_2024')
    .then(function() {
      console.log('ë‹¤ìš´ë¡œë“œ ì™„ë£Œ');
    })
    .catch(function(error) {
      console.error('ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨:', error);
    });

*ìƒì„¸ ë¬¸ì„œ:* docs/tx_xlsx_exporter_guide.md

*ì°¸ê³ :* TX Timeline Gridì™€ TX XLSX ExporterëŠ” ë™ì¼í•œ JSON ë°ì´í„° êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ,
í•˜ë‚˜ì˜ ë°ì´í„°ë¡œ ì›¹ íƒ€ì„ë¼ì¸ê³¼ ì—‘ì…€ íŒŒì¼ì„ ëª¨ë‘ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


=== 2. í—¬í¼ & ìœ í‹¸ë¦¬í‹°

==== TxBaseHelper

ê³µí†µ í—¬í¼ í•¨ìˆ˜ë“¤ì„ ì œê³µí•©ë‹ˆë‹¤.

==== TxBaseAutocompletesController

ìë™ì™„ì„± ë°ì´í„° APIë¥¼ ì œê³µí•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ì…ë‹ˆë‹¤.

*ì—”ë“œí¬ì¸íŠ¸:*
* +GET /tx_base/autocompletes/top_parent_issues+ - ìµœìƒìœ„ ë¶€ëª¨ ì¼ê° ìë™ì™„ì„±


=== 3. ë·° ì»´í¬ë„ŒíŠ¸

==== ì¼ê° ëª©ë¡ (_issue_list.html.erb)

ê³µí†µ ì¼ê° ëª©ë¡ partialì„ ì œê³µí•©ë‹ˆë‹¤.

*ì‚¬ìš© ë°©ë²•:*

  <%= render partial: 'shared/issue_list', locals: { 
    issues: @issues, 
    page_size: 15, 
    columns: [:id, :tracker, :subject, :status], 
    list_id: 'my-issues-list' 
  } %>


== ì„¤ì¹˜

1. í”ŒëŸ¬ê·¸ì¸ ë””ë ‰í† ë¦¬ì— ë³µì‚¬:

     cd redmine/plugins
     git clone <repository-url> redmine_tx_0_base

2. Redmine ì¬ì‹œì‘


== ì˜ì¡´ì„±

* Redmine 4.0 ì´ìƒ
* jQuery (Redmine ê¸°ë³¸ í¬í•¨)
* jQuery UI Autocomplete (Redmine ê¸°ë³¸ í¬í•¨)


== ë¼ì´ì„ ìŠ¤

ì´ í”ŒëŸ¬ê·¸ì¸ì€ GPL v2 ë¼ì´ì„ ìŠ¤ë¡œ ë°°í¬ë©ë‹ˆë‹¤.


== ë¬¸ì˜

ë¬¸ì œ ë°œìƒ ì‹œ ì´ìŠˆ íŠ¸ë˜ì»¤ì— ë“±ë¡í•´ì£¼ì„¸ìš”.
